{"version":3,"file":"commonHelpers.js","sources":["../src/js/elements.js","../src/js/is-open.js","../src/js/pixabay.api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport const refs = {\n    imageSearchForm: document.querySelector('.image-search-form'),\n    gallery: document.querySelector('.images-gallery'),\n    loader: document.querySelector('.loader-container'),\n    loadMoreBtn: document.querySelector('.load-more-btn')\n}","export function showEl(element) {\n    element.classList.add(\"is-open\")\n}\n\nexport function hideEl(element) {\n    element.classList.remove(\"is-open\")\n}\n\n\n","// ============================================= INCLUDING AXIOS\nimport axios from 'axios';\n\n// ============================================= MAKING REQUEST\nexport async function findImages(image) {\n\n  // =========================================== SEARCH PARAMS\n    const imageSearchParams = new URLSearchParams({\n      key: '42878081-96b370588af70c81d3a302fb0',\n      q: image,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      order: 'latest',\n      safesearch: true,\n    });\n\n    const response = await axios.get(\n      `https://pixabay.com/api/?${imageSearchParams}`\n    );\n    return response.data.hits;\n}\n","// ======================================== RENDER TEMPLATE\n\nexport function imagesRenderTemplate(imagesData) {\n  return imagesData.map(imageTemplate).join('');\n}\n\nfunction imageTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  downloads,\n  comments,\n}) {\n  return `<li class=\"gallery-item\">\n  <a class=\"image-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n      loading=\"lazy\"\n      width=\"360\"\n      height=\"152\"\n    />\n  </a>\n\n  <div class=\"tags-container\">\n    <div class=\"tag\">\n      <p class=\"tag-name\">likes</p>\n      <span class=\"tag-details\">${likes}</span>\n    </div>\n    <div class=\"tag\">\n      <p class=\"tag-name\">views</p>\n      <span class=\"tag-details\">${views}</span>\n    </div>\n    <div class=\"tag\">\n      <p class=\"tag-name\">downloads</p>\n      <span class=\"tag-details\">${downloads}</span>\n    </div>\n    <div class=\"tag\">\n      <p class=\"tag-name\">comments</p>\n      <span class=\"tag-details\">${comments}</span>\n    </div>\n  </div>\n</li>`;\n}\n\n\n\n\n//     let myLightboxGallery;\n//     const images = response.hits;\n//     if (!myLightboxGallery) {\n//       myLightboxGallery = new SimpleLightbox('.gallery a');\n//     } else {\n//       myLightboxGallery.refresh();\n//     }\n","// ======================================= INCLUDING IZITOAST\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// // ======================================= INLCUDING SIMPLE LIGHTBOX\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\n// ======================================= IMPORTS\nimport { refs } from './js/elements';\nimport { showEl, hideEl } from './js/is-open';\nimport { findImages } from './js/pixabay.api';\nimport { imagesRenderTemplate } from './js/render-functions';\n\n// ======================================== EVENT LISTENERS\nrefs.imageSearchForm.addEventListener('submit', onImgSubmit);\n// ======================================== HANDLE FORM SUBMIT\nlet searchImage;\n\nfunction onImgSubmit(event) {\n  event.preventDefault();\n  // ====================================== GETTING IMAGE FOR REQUEST\n  searchImage = event.currentTarget.elements.searchImage.value.trim();\n  refs.gallery.innerHTML = '';\n  event.currentTarget.reset();\n  // ==================================== CHECKING FOR EMPTY FIELDS\n  if (searchImage === '') {\n    iziToast.warning({\n      message: 'Write what image you want to search for',\n      position: 'topRight',\n    });\n    return;\n  }\n  // ====================================== ADDING LOADER\n  showEl(refs.loader);\n  // ===================================== MAKING A REQUEST\n  hideEl(refs.loadMoreBtn);\n  findImages(searchImage)\n    .then(async response => {\n      if (!response.length) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n          maxWidth: '432px',\n          backgroundColor: 'rgb(239, 64, 64)',\n          position: 'topRight',\n          progressBarColor: 'rgb(181, 27, 27)',\n          // icon: 'icon-error-sign',\n        });\n        refs.gallery.innerHTML = '';\n        hideEl(refs.loadMoreBtn);\n        return;\n      }\n      // ============================== RENDERING IMAGES\n      const imagesMarkup = await imagesRenderTemplate(response);\n      refs.gallery.insertAdjacentHTML('beforeend', imagesMarkup);\n      // ============================== REMOVING LOADER; MOVING IT BELOW LIST\n      hideEl(refs.loader);\n      refs.loader.style.order = '3';\n    })\n}\n"],"names":["refs","showEl","element","hideEl","findImages","image","imageSearchParams","axios","imagesRenderTemplate","imagesData","imageTemplate","webformatURL","largeImageURL","tags","likes","views","downloads","comments","onImgSubmit","searchImage","event","iziToast","response","imagesMarkup"],"mappings":"6vBACO,MAAMA,EAAO,CAChB,gBAAiB,SAAS,cAAc,oBAAoB,EAC5D,QAAS,SAAS,cAAc,iBAAiB,EACjD,OAAQ,SAAS,cAAc,mBAAmB,EAClD,YAAa,SAAS,cAAc,gBAAgB,CACxD,ECNO,SAASC,EAAOC,EAAS,CAC5BA,EAAQ,UAAU,IAAI,SAAS,CACnC,CAEO,SAASC,EAAOD,EAAS,CAC5BA,EAAQ,UAAU,OAAO,SAAS,CACtC,CCFO,eAAeE,EAAWC,EAAO,CAGpC,MAAMC,EAAoB,IAAI,gBAAgB,CAC5C,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,MAAO,SACP,WAAY,EAClB,CAAK,EAKD,OAHiB,MAAME,EAAM,IAC3B,4BAA4BD,CAAiB,EACnD,GACoB,KAAK,IACzB,CClBO,SAASE,EAAqBC,EAAY,CAC/C,OAAOA,EAAW,IAAIC,CAAa,EAAE,KAAK,EAAE,CAC9C,CAEA,SAASA,EAAc,CACrB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,UAAAC,EACA,SAAAC,CACF,EAAG,CACD,MAAO;AAAA,gCACuBL,CAAa;AAAA;AAAA;AAAA,aAGhCD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAUiBC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAS;AAAA;AAAA;AAAA;AAAA,kCAITC,CAAQ;AAAA;AAAA;AAAA,MAI1C,CC/BAjB,EAAK,gBAAgB,iBAAiB,SAAUkB,CAAW,EAE3D,IAAIC,EAEJ,SAASD,EAAYE,EAAO,CAO1B,GANAA,EAAM,eAAc,EAEpBD,EAAcC,EAAM,cAAc,SAAS,YAAY,MAAM,OAC7DpB,EAAK,QAAQ,UAAY,GACzBoB,EAAM,cAAc,QAEhBD,IAAgB,GAAI,CACtBE,EAAS,QAAQ,CACf,QAAS,0CACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDpB,EAAOD,EAAK,MAAM,EAElBG,EAAOH,EAAK,WAAW,EACvBI,EAAWe,CAAW,EACnB,KAAK,MAAMG,GAAY,CACtB,GAAI,CAACA,EAAS,OAAQ,CACpBD,EAAS,MAAM,CACb,QACE,2EACF,aAAc,UACd,YAAa,OACb,SAAU,QACV,gBAAiB,mBACjB,SAAU,WACV,iBAAkB,kBAE5B,CAAS,EACDrB,EAAK,QAAQ,UAAY,GACzBG,EAAOH,EAAK,WAAW,EACvB,MACD,CAED,MAAMuB,EAAe,MAAMf,EAAqBc,CAAQ,EACxDtB,EAAK,QAAQ,mBAAmB,YAAauB,CAAY,EAEzDpB,EAAOH,EAAK,MAAM,EAClBA,EAAK,OAAO,MAAM,MAAQ,GAChC,CAAK,CACL"}